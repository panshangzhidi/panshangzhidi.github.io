<!DOCTYPE html>
<html>
<head>
  <title>Text Editor and Viewer</title>
</head>
<body>
  <h2>Text Editor</h2>
  <textarea id="myTextarea" rows="10" cols="50">
  </textarea>

  <h2>Text Viewer</h2>
  <div id="myDiv">
  </div>
  <button onclick="copyToClipboard()">Copy</button>
  <span id="copyAlert"></span>
  <button onclick="removeNewlines()">删除换行符</button>

  <script>
    document.getElementById('myTextarea').addEventListener('input', function() {
      document.getElementById('myDiv').innerText = this.value;
    });

    function copyToClipboard() {
      var text = document.getElementById('myDiv').innerText;
      var dummy = document.createElement('textarea');
      document.body.appendChild(dummy);
      dummy.value = text;
      dummy.select();
      document.execCommand('copy');
      document.body.removeChild(dummy);

      var copyAlert = document.getElementById('copyAlert');
      copyAlert.innerText = 'Copied!';
      setTimeout(function() {
        copyAlert.innerText = '';
      }, 3000);
    }

    function removeNewlines() {
      var text = document.getElementById('myDiv').innerText;
      var newText = text.replace(/(\r\n|\n|\r)/gm, "");
      document.getElementById('myDiv').innerText = newText;
      document.getElementById('myTextarea').value = newText;
    }
  </script>
</body>
</html>
